<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Hello Ming</title>
    <script src="https://cdn.staticfile.org/vue/2.4.2/vue.min.js"></script>
    <script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
</head>
<body>

    <div id="app">
        <div><h1>{{name}}</h1></div>
        <button @click='user_login'>登录</button>
        <button @click='book'>获取图书</button>

    </div>
    <script>
        new Vue({
            el:'#app',
            data:{
                name:'',
                btitle:'',
                message:'',
                book_list:[]
            },
            // mounted:function(){
            //     axios.get('http://127.0.0.1:8000/')
            //     .then(response =>{
            //         this.name=response.data.name
            //     })
            //     .catch(error =>{
            //         alert(error)
            //     })
            // },
            methods:{
                user_login:function(){
                    axios.put('http://api.meiduo.site:8000/books/2/')
                    .then(response =>{
                    this.message=response.data.message
                    alert( this.message)
                    location.href
                })
                    .catch(error =>{
                        alert(error)
                    })
                },
                
                book:function(){
                    axios.get('http://127.0.0.1:8000/books/2/')
                    .then(response =>{
                    this.btitle=response.data.btitle
                    alert( this.btitle)
                    location.href
                })
                    .catch(error =>{
                        alert(error)
                    })
                }
            }
        })
           
    </script>
</body>
</html>